import{a as _e,b as ve,c as ge,d as ue,e as he}from"./chunk-SBJXJX6T.js";import{a as pe}from"./chunk-3A2IT7C4.js";import{b as le,c as ce,d as me}from"./chunk-2QD6RHP6.js";import{a as de}from"./chunk-3PBVRPBV.js";import"./chunk-XT7VLKWQ.js";import{b as se}from"./chunk-DBLV6GGG.js";import{$a as ie,ab as u,bb as ne,cb as oe,db as re,eb as ae,g as X,ia as R,k as ee,ma as te,o as x}from"./chunk-37ZJ7F5R.js";import"./chunk-F2X3VGZZ.js";import{$ as Q,Bb as b,Cb as S,Fb as H,Ja as k,Na as a,Nb as l,O as F,Ob as v,Pb as C,Qb as q,U as d,Ub as K,Za as O,_ as Z,db as g,e as M,ka as G,kb as _,na as p,nc as h,pb as f,rb as P,sb as T,tb as o,ub as r,vb as c,zb as Y}from"./chunk-UGKDFCWG.js";var D=class t{_http=d(ee);headers={headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZGQxMGQyYjhmNTJiYzBhNTMyMGQ1YzlkODhiZDFmZiIsIm5iZiI6MTU5Mjc1NTkwMS44MjgsInN1YiI6IjVlZWY4NmJkZWQyYWMyMDAzNTlkNGM4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.NT77KLEZLjsgTMnyjJQBWADPa_t_7ydLLbvEABTxbwM"}};getDetailedTv(e=1278950,i="en_US"){return this._http.get(`https://api.themoviedb.org/3/tv/${e}?/language=${i}`,this.headers)}getDetailedReviewTv(e=1278950,i="en_US",n=1){return this._http.get(`https://api.themoviedb.org/3/tv/${e}/reviews?language=${i}&page=${n}`,this.headers)}getDetailedRecommendationsTv(e=1278950,i="en_US",n=1){return this._http.get(`https://api.themoviedb.org/3/tv/${e}/recommendations?language=${i}&page=${n}`,this.headers)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};var E=new M,j=new M,z=new M,w=ne({providedIn:"root"},ae({detailedTv:null,detailedReviewTv:[],detailedRecommendationsTv:[],id:0,lang:"en-US",page:1}),re(t=>({setLanguage(e){u(t,{lang:e})},setId(e){u(t,{id:e})},setPage(e){u(t,{page:e})}})),oe({onInit(t){let e=d(D);h(()=>{let i=t.id(),n=t.lang(),m=t.page();i&&(E.unsubscribe(),E=e.getDetailedTv(i,n).subscribe({next:s=>{u(t,{detailedTv:s})},error:s=>console.error("Failed to load movie details",s)}),j.unsubscribe(),j=e.getDetailedReviewTv(i,n,m).subscribe({next:s=>{u(t,{detailedReviewTv:s.results})},error:s=>console.error("Failed to load reviews",s)}),z.unsubscribe(),z=e.getDetailedRecommendationsTv(i,n,m).subscribe({next:s=>{u(t,{detailedRecommendationsTv:s.results})},error:s=>console.error("Failed to load recommendations",s)}))})},onDestroy(){E.unsubscribe(),j.unsubscribe(),z.unsubscribe()}}));function Me(t,e){if(t&1){let i=Y();o(0,"button",5),b("click",function(){let m=Z(i).$implicit,s=S();return Q(s.routeToDetails(m))}),o(1,"div"),c(2,"app-home-cards",6),r()()}if(t&2){let i=e.$implicit;a(2),_("movieCardObj",i)}}var y=class t{_apiDetailsTvStore=d(w);_router=d(x);tvCardObjs=p([]);responsiveOptions;constructor(){h(()=>{let e=this._apiDetailsTvStore.id(),i=this._apiDetailsTvStore.detailedRecommendationsTv();e&&i?.length?this.tvCardObjs.set(i):this.tvCardObjs.set([])})}ngOnInit(){this.responsiveOptions=[{breakpoint:"1440px",numVisible:6,numScroll:1},{breakpoint:"1199px",numVisible:6,numScroll:1},{breakpoint:"767px",numVisible:4,numScroll:1},{breakpoint:"575px",numVisible:2,numScroll:1}]}routeToDetails(e){this._router.navigateByUrl("/home/details-tv/"+e.id)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=O({type:t,selectors:[["app-detail-similar-tv-slider"]],decls:7,vars:6,consts:[[1,"cards-slider"],[1,"cards-slider__container"],[1,"cards-slider__title"],[3,"value","numVisible","numScroll","showIndicators","circular","responsiveOptions"],["pTemplate","item"],[3,"click"],[3,"movieCardObj"]],template:function(i,n){i&1&&(o(0,"section",0)(1,"section",1)(2,"div",2)(3,"h2"),l(4,"Recommended for you"),r()(),o(5,"p-carousel",3),g(6,Me,3,1,"ng-template",4),r()()()),i&2&&(a(5),_("value",n.tvCardObjs())("numVisible",6)("numScroll",2)("showIndicators",!1)("circular",!0)("responsiveOptions",n.responsiveOptions))},dependencies:[ce,me,ie,te],styles:["[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   .cards-slider__container[_ngcontent-%COMP%]{padding-block:1rem 3rem}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   .cards-slider__title[_ngcontent-%COMP%]{padding-inline:3rem;margin-bottom:1rem}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;display:inline;transition:.5s;font-size:2rem;text-decoration:underline}html.my-add-dark   [_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--p-surface-100)}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:var(--p-surface-700)}html.my-add-dark   [_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:var(--p-surface-500)}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:0;border:0}"]})};var N=(t,e)=>e.id;function Oe(t,e){t&1&&c(0,"i",10)}function Pe(t,e){t&1&&c(0,"i",11)}function Te(t,e){t&1&&(o(0,"h4",18),l(1,"R"),r())}function Se(t,e){if(t&1&&(o(0,"div"),l(1),r()),t&2){let i=e.$implicit;a(),v(i.name)}}function xe(t,e){if(t&1&&(o(0,"li"),l(1),r()),t&2){let i=e.$implicit;a(),v(i.name)}}function De(t,e){if(t&1&&(o(0,"p-accordion-panel",29)(1,"p-accordion-header"),l(2),r(),o(3,"p-accordion-content")(4,"p",32),l(5),r()()()),t&2){let i=e.$implicit,n=e.$index;_("value",i.id),a(2),q("- Review ",n,": ",i.author,""),a(3),v(i.content)}}function we(t,e){if(t&1&&(o(0,"p-accordion",29),P(1,De,6,4,"p-accordion-panel",29,N),r()),t&2){let i=S();_("value",0),a(),T(i.tvReviews())}}function ye(t,e){t&1&&(o(0,"h3",30),l(1,"No Available Reviews"),r())}function Ie(t,e){t&1&&c(0,"app-detail-similar-tv-slider")}var be=class t{constURL="https://image.tmdb.org/t/p/w500";_apiDetailsStoreTv=d(w);_apiStore=d(se);_registerStore=d(de);_messageService=d(R);_notificationStore=d(le);router=d(x);id=G();tvDetails=p(null);tvReviews=p([]);tvRecommendations=p(0);isWishlisted=p(!1);isLoggedIn=p(!1);getBackdropUrl=p("");getPosterUrl=p("");sampleReview=p("");constructor(){h(()=>{let e=this._apiDetailsStoreTv.detailedTv();if(!this.id()){this.router.navigate(["/home"]);return}if(this._apiDetailsStoreTv.setId(this.id()),this._apiDetailsStoreTv.setLanguage(this._apiStore.lang()||"en-US"),this._apiDetailsStoreTv.setPage(1),!e)return;this.tvDetails.set(e),this.sampleReview.set(e.overview),this.getBackdropUrl.set(this.constURL+e.backdrop_path),this.getPosterUrl.set(this.constURL+e.poster_path),this.tvReviews.set(this._apiDetailsStoreTv.detailedReviewTv()),this.tvRecommendations.set(this._apiDetailsStoreTv.detailedRecommendationsTv().length);let i=sessionStorage.getItem("user_id");if(i){this.isLoggedIn.set(!0);let n=JSON.parse(i);this.isWishlisted.set(n.wishList?.tvShows?.some(m=>m.id==e.id)??!1)}else this.isLoggedIn.set(!1),this.isWishlisted.set(!1)})}goBack(){this.router.navigate(["/home"])}formattedVoteAverage(){return(this.tvDetails()?.vote_average??0).toFixed(1)+"/10"}toggleWishlist(){if(!this.isLoggedIn()){this.showNotify("Login Required","Please login first to use the wishlist feature");return}this.isWishlisted.set(!this.isWishlisted()),this._registerStore.toggleMovieWishlistTv(this.tvDetails());let e=this.isWishlisted()?"added to":"removed from";this.showNotify("Watch List Updated",`${this.tvDetails()?.name} was ${e} your watch list`),this._notificationStore.pushNotification(`Watch List Updated: ${this.tvDetails()?.name} was ${e} your watch list`)}showNotify(e,i){this._messageService.add({severity:"secondary",summary:e,detail:i})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=O({type:t,selectors:[["app-details-tv"]],inputs:{id:[1,"id"]},features:[K([R])],decls:52,vars:15,consts:[[1,"tv-details"],[1,"tv-details__container","w-12","flex"],[1,"tv-details__bg"],[1,"tv-details__banner"],[1,""],["alt","Backdrop",1,"backdrop",3,"src"],[1,"tv-details__action-buttons"],[1,"tv-details__back-btn",3,"click"],[1,"pi","pi-arrow-left"],[3,"click"],[1,"pi","pi-heart"],[1,"pi","pi-heart-fill"],[1,"tv-details__poster","w-4"],[1,"tv-details__poster-img"],[3,"src","alt"],[1,"tv-details__tab-content","w-4","flex","flex-column","gap-2"],[1,"tv-details__title"],[1,"flex","align-items-center","mb-3","gap-2"],[1,"tv-details__adult"],[1,"tv-details__date"],[1,"flex","gap-2","align-items-center","border-1","px-2","py-1","border-round-lg","bg-white"],[1,"tv-details__rate","text-gray-900"],[1,"pi","pi-star-fill","text-gray-900"],[1,"tv-details__genres"],[1,"py-1"],[1,"text-lg"],[1,"text-2xl","mb-2"],[1,"tv-details__production"],[1,"tv-details__reviews","w-4","p-5","flex","flex-column","jutify-content-center","align-items-center"],[3,"value"],[1,"tv-details__reviews-no","w-full"],[1,"card","flex","justify-center","gap-2","text-2xl","toast"],[1,"m-0"]],template:function(i,n){if(i&1&&(o(0,"div",0)(1,"div",1),c(2,"div",2),o(3,"div",3)(4,"div",4),c(5,"img",5),r()(),o(6,"div",6)(7,"button",7),b("click",function(){return n.goBack()}),c(8,"i",8),r(),o(9,"button",9),b("click",function(){return n.toggleWishlist()}),g(10,Oe,1,0,"i",10)(11,Pe,1,0,"i",11),r()(),o(12,"div",12)(13,"div",13),c(14,"img",14),r()(),o(15,"div",15)(16,"h1",16),l(17),r(),o(18,"div",17),g(19,Te,2,0,"h4",18),o(20,"h4",19),l(21),r(),o(22,"div",20)(23,"h4",21),l(24),r(),c(25,"i",22),r()(),o(26,"div",23),P(27,Se,2,1,"div",null,N),r(),o(29,"div",24)(30,"h4",25),l(31),r(),o(32,"h4",25),l(33),r(),o(34,"h4",25),l(35),r()(),o(36,"p"),l(37),r(),o(38,"p"),l(39),r(),o(40,"div")(41,"h4",26),l(42,"Production Companies"),r(),o(43,"ul",27),P(44,xe,2,1,"li",null,N),r()()(),o(46,"div",28),g(47,we,3,1,"p-accordion",29)(48,ye,2,0,"h3",30),r()(),g(49,Ie,1,0,"app-detail-similar-tv-slider"),o(50,"div",31),c(51,"p-toast"),r()()),i&2){let m,s,A,U,$,I,W,L,J,B,V;a(5),_("src",n.getBackdropUrl(),k),a(5),f(n.isWishlisted()?11:10),a(4),H("alt",(m=n.tvDetails())==null?null:m.name),_("src",n.getPosterUrl(),k),a(3),v((s=n.tvDetails())==null?null:s.name),a(2),f((A=n.tvDetails())!=null&&A.adult?19:-1),a(2),v((U=n.tvDetails())==null?null:U.first_air_date),a(3),C(" ",n.formattedVoteAverage(),"/10"),a(3),T(($=n.tvDetails())==null?null:$.genres),a(4),C("Seasons: ",(I=n.tvDetails())==null||I.seasons==null?null:I.seasons.length,""),a(2),C("Number of Episodes: ",(W=n.tvDetails())==null?null:W.number_of_episodes,""),a(2),C("Episode Time: ",(L=n.tvDetails())==null?null:L.episode_run_time," min"),a(2),v((J=n.tvDetails())==null?null:J.tagline),a(2),v((B=n.tvDetails())==null?null:B.overview),a(5),T((V=n.tvDetails())==null?null:V.production_companies),a(3),f(n.tvReviews().length>0?47:48),a(2),f(n.tvRecommendations()>0?49:-1)}},dependencies:[pe,he,ue,_e,ve,ge,X,y],styles:["[_nghost-%COMP%]   .tv-details[_ngcontent-%COMP%]{position:relative;background-color:#121212;color:#fff}[_nghost-%COMP%]   .tv-details__container[_ngcontent-%COMP%]{position:relative;color:#fff;z-index:2;min-height:90vh}[_nghost-%COMP%]   .tv-details__bg[_ngcontent-%COMP%]{z-index:1;position:absolute;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);inset:0}[_nghost-%COMP%]   .tv-details__banner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   .tv-details__banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;filter:brightness(.5)}[_nghost-%COMP%]   .tv-details__action-buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:.5rem;padding:1rem;z-index:5;display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   .tv-details__action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-left:.5rem;height:3rem;width:3rem;background-color:var(--p-red-500);color:#fff;border-radius:50%;padding:.5rem 1rem;border:none;cursor:pointer}[_nghost-%COMP%]   .tv-details__action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}[_nghost-%COMP%]   .tv-details__action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--p-red-600)}[_nghost-%COMP%]   .tv-details__poster[_ngcontent-%COMP%]{position:relative;border-radius:10px;z-index:3;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .tv-details__poster[_ngcontent-%COMP%]   .tv-details__poster-img[_ngcontent-%COMP%]{width:80%;overflow:hidden;border-radius:10px}[_nghost-%COMP%]   .tv-details__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]{position:relative;z-index:3;padding:1rem;background-color:#000000b3;padding-block:2rem}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;font-weight:700}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.5}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;padding-inline:3rem}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   .tv-details__date[_ngcontent-%COMP%]{color:#ccc;font-size:1.2rem;font-weight:300}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.5;color:#ccc;font-size:1.1rem}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:.5rem;text-decoration:underline}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   .tv-details__overview[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   .tv-details__genres[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   .tv-details__genres[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:fit-content;font-size:1rem;color:#fff;margin-bottom:.5rem;background-color:#ffffff80;padding:.5rem 1rem;border-radius:5px}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   .tv-details__production[_ngcontent-%COMP%]{list-style-type:circle;display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   .tv-details__tab-content[_ngcontent-%COMP%]   .tv-details__production[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left;font-size:1.2rem;color:#ccc}[_nghost-%COMP%]   .tv-details__reviews[_ngcontent-%COMP%]{position:relative;z-index:3;max-height:100%;justify-content:center}[_nghost-%COMP%]   .tv-details__reviews-no[_ngcontent-%COMP%]{text-align:center;width:fit-content;color:#ccc;font-size:1.5rem;background-color:#000000b3;padding-block:1rem;border-radius:10px}[_nghost-%COMP%]     p-accordion-panel .p-accordion-panel{max-height:500px}[_nghost-%COMP%]     p-accordion-panel p{max-height:300px;overflow-y:scroll;padding-block:1rem}.toast[_ngcontent-%COMP%]{position:relative;z-index:10;background-color:#000000b3}@media (max-width: 576px){.tvgit[_ngcontent-%COMP%]   branch[_ngcontent-%COMP%]   -M[_ngcontent-%COMP%]   main-details__container[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]})};export{be as DetailsTvComponent};
